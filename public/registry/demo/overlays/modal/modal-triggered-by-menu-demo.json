{
  "name": "modal-triggered-by-menu-demo",
  "files": [
    {
      "name": "modal-triggered-by-menu-demo.tsx",
      "content": "\"use client\"\n\nimport React from \"react\"\n\nimport { wait } from \"@/resources/lib/utils\"\nimport { IconDotsVertical } from \"justd-icons\"\nimport { Button, buttonStyles, Loader, Menu, Modal } from \"ui\"\n\nexport default function ModalTriggeredByMenuDemo() {\n  const [state, setState] = React.useState<string | null>(null)\n  const [loading, setLoading] = React.useState<boolean>(false)\n  const closeModal = () => setState(null)\n  const executeAction = (action: string) => {\n    console.log(`${action} is executing`)\n    setLoading(true)\n    wait(2000).then(() => {\n      setLoading(false)\n      closeModal()\n    })\n  }\n\n  const actionType = (t: string | null) => {\n    switch (t) {\n      case \"delete\":\n        return {\n          title: \"Delete User\",\n          description: \"Are you sure you want to delete this item?\",\n          confirmText: \"Delete\",\n          action: () => executeAction(t)\n        }\n\n      case \"ban\":\n        return {\n          title: \"Ban User\",\n          description: \"Are you sure you want to ban this user?\",\n          confirmText: \"Ban\",\n          action: () => executeAction(t)\n        }\n\n      case \"restore\":\n        return {\n          title: \"Restore User\",\n          description: \"Are you sure you want to restore this user?\",\n          confirmText: \"Restore\",\n          action: () => executeAction(t)\n        }\n      default:\n        return\n    }\n  }\n  return (\n    <>\n      <Menu>\n        <Menu.Trigger className={buttonStyles({ appearance: \"outline\" })}>\n          <IconDotsVertical />\n        </Menu.Trigger>\n        <Menu.Content placement=\"bottom\">\n          <Menu.Item onAction={() => setState(\"delete\")}>Delete</Menu.Item>\n          <Menu.Item isDanger onAction={() => setState(\"ban\")}>\n            Ban\n          </Menu.Item>\n          <Menu.Item onAction={() => setState(\"restore\")}>Restore</Menu.Item>\n        </Menu.Content>\n      </Menu>\n\n      <Modal.Content isOpen={state !== null} onOpenChange={closeModal}>\n        <Modal.Header>\n          <Modal.Title>{actionType(state)?.title}</Modal.Title>\n          <Modal.Description>{actionType(state)?.description}</Modal.Description>\n        </Modal.Header>\n        <Modal.Footer>\n          <Modal.Close>Cancel</Modal.Close>\n          <Button\n            intent={state === \"ban\" ? \"danger\" : \"primary\"}\n            className=\"min-w-24\"\n            isDisabled={loading}\n            onPress={actionType(state)?.action}\n          >\n            {loading ? <Loader variant=\"spin\" /> : actionType(state)?.confirmText}\n          </Button>\n        </Modal.Footer>\n      </Modal.Content>\n    </>\n  )\n}\n"
    }
  ],
  "type": "components:demo",
  "componentPath": "components/docs/overlays/modal/modal-triggered-by-menu-demo.tsx"
}