{
  "name": "list-box",
  "files": [
    {
      "name": "list-box.tsx",
      "content": "\"use client\"\n\nimport * as React from \"react\"\n\nimport { IconCheck, IconHamburger } from \"justd-icons\"\nimport {\n  composeRenderProps,\n  ListBox as ListBoxPrimitive,\n  ListBoxItem as ListBoxItemPrimitive,\n  type ListBoxItemProps as ListBoxItemPrimitiveProps,\n  type ListBoxProps as ListBoxPrimitiveProps\n} from \"react-aria-components\"\nimport { tv } from \"tailwind-variants\"\n\nimport { DropdownItemDetails, DropdownSection } from \"./dropdown\"\nimport { cn } from \"./primitive\"\n\nconst listBoxStyles = tv({\n  base: \"flex max-h-96 [&::-webkit-scrollbar]:size-0.5 [scrollbar-width:thin] w-full gap-y-1 min-w-72 flex-col overflow-y-auto rounded-xl border p-1 shadow-lg outline-hidden\"\n})\n\ninterface ListBoxProps<T> extends ListBoxPrimitiveProps<T> {\n  className?: string\n}\n\nconst ListBox = <T extends object>({ children, className, ...props }: ListBoxProps<T>) => (\n  <ListBoxPrimitive {...props} className={listBoxStyles({ className })}>\n    {children}\n  </ListBoxPrimitive>\n)\n\nconst listBoxItemStyles = tv({\n  base: \"lbi cursor-pointer relative rounded-[calc(var(--radius)-1px)] p-2 text-base outline-hidden lg:text-sm\",\n  variants: {\n    isFocusVisible: {\n      true: \"bg-secondary [&:focus-visible_[slot=label]]:text-accent-fg [&:focus-visible_[slot=description]]:text-accent-fg/70 text-secondary-fg\"\n    },\n    isHovered: {\n      true: \"bg-accent [&:hover_[slot=label]]:text-accent-fg [&:hover_[slot=description]]:text-accent-fg/70 text-accent-fg [&_.text-muted-fg]:text-accent-fg/80\"\n    },\n    isFocused: {\n      true: \"**:data-[slot=icon]:text-accent-fg **:data-[slot=label]:text-accent-fg [&_.text-muted-fg]:text-accent-fg/80 bg-accent text-accent-fg\"\n    },\n    isSelected: {\n      true: \"**:data-[slot=icon]:text-accent-fg **:data-[slot=label]:text-accent-fg [&_.text-muted-fg]:text-accent-fg/80 bg-accent text-accent-fg\"\n    },\n    isDragging: { true: \"cursor-grabbing bg-secondary text-secondary-fg\" },\n    isDisabled: {\n      true: \"opacity-70 cursor-default text-muted-fg\"\n    }\n  }\n})\n\ninterface ListBoxItemProps<T extends object> extends ListBoxItemPrimitiveProps<T> {\n  className?: string\n}\n\nconst ListBoxItem = <T extends object>({ children, className, ...props }: ListBoxItemProps<T>) => {\n  const textValue = typeof children === \"string\" ? children : undefined\n\n  return (\n    <ListBoxItemPrimitive\n      textValue={textValue}\n      {...props}\n      className={composeRenderProps(className, (className, renderProps) =>\n        listBoxItemStyles({\n          ...renderProps,\n          className\n        })\n      )}\n    >\n      {(values) => (\n        <div className=\"flex items-center gap-2\">\n          <>\n            {values.allowsDragging && (\n              <IconHamburger\n                className={cn(\n                  \"size-4 shrink-0 text-muted-fg transition\",\n                  values.isFocused && \"text-fg\",\n                  values.isDragging && \"text-fg\",\n                  values.isSelected && \"text-accent-fg/70\"\n                )}\n              />\n            )}\n            <div className=\"flex flex-col\">\n              {typeof children === \"function\" ? children(values) : children}\n\n              {values.isSelected && (\n                <span className=\"animate-in absolute right-2 top-3 lg:top-2.5\">\n                  <IconCheck />\n                </span>\n              )}\n            </div>\n          </>\n        </div>\n      )}\n    </ListBoxItemPrimitive>\n  )\n}\n\ntype ListBoxPickerProps<T> = ListBoxProps<T>\n\nconst ListBoxPicker = <T extends object>({ className, ...props }: ListBoxPickerProps<T>) => {\n  return <ListBoxPrimitive className={cn(\"max-h-72 overflow-auto p-1 outline-hidden\", className)} {...props} />\n}\n\nconst Section = ({ className, ...props }: React.ComponentProps<typeof DropdownSection>) => {\n  return <DropdownSection className={cn(className, \"[&_.lbi:last-child]:-mb-1.5 gap-y-1\")} {...props} />\n}\n\nListBox.Section = Section\nListBox.ItemDetails = DropdownItemDetails\nListBox.Item = ListBoxItem\nListBox.Picker = ListBoxPicker\n\nexport { ListBox, listBoxStyles, type ListBoxPickerProps }\n"
    }
  ],
  "type": "components:ui",
  "componentPath": "components/ui/list-box.tsx"
}